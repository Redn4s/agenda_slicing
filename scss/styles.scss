@import "../node_modules/@a-ui/core/src/styles/_quarks.scss";
@import "../node_modules/@a-ui/core/src/styles/_utilities.scss";

.o-agenda-wrapper {
	position: relative;

	width: 100%;
	height: 100vh;
}


/**
 * AGENDA VARIABLES
 * -------------------------------------------------------------------
 */

$agenda-border:                  $border-color !default;
$agenda-bg:                      $white !default;
$agenda-bg-hover:                mix($brand-primary, $white, 20%) !default;

$agenda-head-color:              $text-color !default;
$agenda-head-border:             $agenda-border !default;
$agenda-head-bg:                 $agenda-bg !default;

$agenda-today-color:             $brand-primary !default;
$agenda-today-bg:                mix($agenda-today-color, $white, 20%) !default;
$agenda-today-border:            $agenda-today-color !default;
$agenda-today-font-weight:       $extra-bold !default;

$agenda-selected-color:          $white !default;
$agenda-selected-bg:             $agenda-today-color !default;
$agenda-selected-font-weight:    $agenda-today-font-weight !default;

$agenda-faded-color:             $grey-dark !default;
$agenda-faded-bg:                $background-color-light !default;
$agenda-faded-bg-hover:          $background-color !default;

$agenda-unavailable-color:       $state-disabled !default;
$agenda-unavailable-bg:          $agenda-bg !default;


/**
 * AGENDA
 * -------------------------------------------------------------------
 */

.o-agenda {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
}

.o-agenda__inner {
	display: flex;
	flex-direction: column;

	height: 100%;

	background-color: #fff;
}

.o-agenda__nav {
	display: flex;
	flex-shrink: 0;
}

.o-agenda__nav-title {
	flex: 1;
}

.o-agenda__table {
	width: 100%;
	height: calc(100% - 48px);

	table-layout: fixed;
	border-collapse: collapse;
	border-spacing: 0;
}

.o-agenda__head {
	height: $spacer-lg;

	color: $agenda-head-color;
	background-color: $agenda-head-bg;
	border-right: 1px solid $agenda-border;
	border-left: 1px solid $agenda-border;
}

.o-agenda__calendar {
	background-color: $agenda-bg;

	td {
		position: relative;

		padding: 0;

		border: 1px solid $agenda-border;

		@include at($screen-sm) {
			vertical-align: top;
		}
	}
}

.o-agenda__day {
	position: absolute;
	top: 0;
	bottom: 0;

	width: 100%;

	transition: background $animation-normal;

	cursor: pointer;

	@include to($screen-sm) {
		display: flex;
		align-items: center;
		justify-content: center;
	}

	&:hover .o-agenda__day__action {

		@include at($screen-sm) {
			opacity: 1;
		}
	}
}

.o-agenda__day__header {

	@include at($screen-sm) {
		overflow: hidden;

		display: flex;
		align-items: center;
		justify-content: space-between;

		height: $spacer;

		padding-left: $spacer / 3;

		line-height: $spacer;

		background-color: $background-color-light;
		border-bottom: 1px solid $agenda-border;
	}
}

.o-agenda__day__action {
	display: none;

	@include at($screen-sm) {
		display: block;

		opacity: 0;

		transition: opacity $animation-normal;
	}
}

.o-agenda__dots {
	position: absolute;
	bottom: rem(6px);
	left: 50%;

	display: flex;

	transform: translateX(-50%);

	@include at($screen-xs) {
		bottom: rem(10px);
	}

	@include at($screen-sm) {
		display: none;
	}
}

.o-agenda__dot {
	display: block;

	width: rem(4px);
	height: rem(4px);

	background-color: $brand-secondary;

	&:not(:last-child) {
		margin-right: rem(5px);
	}
}


/**
 * EVENT LIST
 * -------------------------------------------------------------------
 */


/**
 * EVENT
 * -------------------------------------------------------------------
 */

.a-event {
	display: flex;

	width: 100%;
	height: $spacer;

	margin: 0;
	padding: 0;

	background: $white;
	border: none;
	border-radius: 0;

	cursor: pointer;
}

.a-event__bar {
	flex-shrink: 0;

	display: block;

	width: $spacer / 6;
	height: $spacer;
}

.a-event__content {
	overflow: hidden;

	display: flex;
	align-items: center;
	justify-content: space-between;
	flex-grow: 1;

	height: $spacer;

	padding: 0 $spacer / 3;

	font-size: rem($font-size-sm);
}

.a-event__main,
.a-event__extra {
	display: flex;
	align-items: center;

	height: 100%;

	> * {
		line-height: $spacer;
	}
}

.a-event__main {
	overflow: hidden;
}

.a-event__extra {
	margin-left: $spacer / 2;

	white-space: nowrap;
}

.a-event__title + .a-event__icon,
.a-event__icon + .a-event__title,
.a-event__meta + .a-event__icon,
.a-event__icon + .a-event__meta {
	margin-left: $spacer / 3;
}

.a-event__icon {
	font-size: rem($icon-size-sm);
}

.a-event__title {
	@extend %u-text-truncate;

	display: block;

	font-weight: $bold;
}

.a-event__meta {
	color: $text-color-light;
}


/**
 * EVENT MODIFIERS
 * -------------------------------------------------------------------
 */

.a-event__large {
	height: $spacer-md;

	.a-event__bar,
	.a-event__content {
		height: $spacer-md;
	}

	.a-event__main,
	.a-event__extra {

		> * {
			line-height: $spacer-md;
		}
	}
}

.a-event__light {
	color: $white;
}
